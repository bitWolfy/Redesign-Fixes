/* === IMAGE PAGE === */
/* Image Page Navigation Hack */
div#nav-links { display: table-row-group; }                     /* Re-order the elements on the image page */
div#nav-links div { margin: 5px; }                                
section#image-container { display: table-header-group; }        /* Order is as follows: */
/*div#image-resize-notice { display: table-row-group; }         /* - image */
div#pending-approval-notice { display: table-row-group; }       /* - pool/search navigation */
div#ad-leaderboard { display: table-footer-group; }             /* - notifications */
div#ad-leaderboard-content { margin: 15px auto; }               /* - advertisemen */

div#c-posts div.notice.notice-pending {                         /* Tweak the notices so that they don't interfere with the controls */
    text-align: center;
    background: transparent;
}

/* Search Results Navigation */
div#nav-links div#search-seq-nav {
    margin: 0;
}
#search-seq-nav ul li {
    background: var(--color-foreground);
    padding: 5px;
}
div#nav-links div#search-seq-nav .prev,
div#nav-links div#search-seq-nav .next {
    top: unset;
}

/* Pool Navigation */
#pool-nav .first, #pool-nav .last { display: none; }            /* These are straight up unnecessary */
div#c-posts div#a-show #pool-nav { margin: 5px 0; }
div#c-posts div#nav-links { background: transparent; }

#pool-nav ul {
    display: table;
    table-layout: fixed;
    width: stretch;
}

div#c-posts div#a-show #pool-nav li.pool-category-series {
    height: 40px;
    font-weight: 500;
    background: var(--color-foreground);
    padding: 5px 0;
    border-bottom: 5px solid var(--color-background);
}
li.pool-category-series:last-child {
    border-bottom: 0;
}

@media only screen and (min-width: 801px) {
    li.pool-category-series {
        display: table-cell;
        border-bottom: 0;
        border-right: 10px solid var(--color-background);
    }
    li.pool-category-series:last-child {
        border-right: 0;
    }
}

#pool-nav .prev, #pool-nav .next {
    padding: 10px 0;
    width: 50%;
    margin-top: 25px;
    line-height: 1.25em;
    color: var(--color-white);
    font-weight: 700;
}
div#c-posts div#a-show #pool-nav li .prev { left: 0; font-size: 0; }
div#c-posts div#a-show #pool-nav li .next { right: 0; font-size: 0; }
#pool-nav .prev:after { content: "« Prev"; font-size: 1rem; }
#pool-nav .next:after { content: "Next »"; font-size: 1rem; }
#pool-nav a.prev:hover,
#pool-nav a.next:hover { color: var(--color-tag-pool); }

#pool-nav span.prev,
#pool-nav span.next { color: var(--color-muted); }

span.pool-name { font-weight: 700; }

/* Image controls - FAV, Download, Resize */
#image-extra-controls {
    margin-top: 10px;
}

/* Information Section */
div#c-posts .source-link:hover a {
    background: var(--color-base);
}

/* Sidebar Favorites Button */
a#add-to-favorites,                                             /* Recolor the sidebar favorites button to what it was before */
a#remove-from-favorites {
    color: var(--color-white);
    padding: 2px 4px;
    border-radius: 3px;
}
section#post-options ul li:nth-child(1),                        /* Best way to add margins to the fav/unfav buttons in the sidebar */
section#post-options ul li:nth-child(2) {                       /* Yes, really. */
    margin: 5px 0;
}
#post-options a#add-to-favorites,
#post-options a#add-to-favorites:link,
#post-options a#add-to-favorites:visited        { background: var(--color-success); }
#post-options a#add-to-favorites:hover          { background: var(--color-success-alt); }
#post-options a#add-to-favorites:before         { content: "+ "; }

#post-options a#remove-from-favorites,
#post-options a#remove-from-favorites:link,
#post-options a#remove-from-favorites:visited   { background: var(--color-danger); }
#post-options a#remove-from-favorites:hover     { background: var(--color-danger-alt); }
#post-options a#remove-from-favorites:before    { content: "- "; }

/* +Favorites Button */
div#c-posts .fav-buttons button.ui-button {                     /* Replace the weird white +FAV button with an old style one */
    border: 0;
    color: white;
    box-shadow: none;
    padding: 3px 10px;
    font-size: 0em;
}
div.fav-buttons button#add-fav-button           { background: var(--color-success); }
div.fav-buttons button#add-fav-button:hover     { background: var(--color-success-alt); }
div.fav-buttons button#add-fav-button:after     { content: "+ Favorite"; font-size: 0.9rem; }

div.fav-buttons button#remove-fav-button        { background: var(--color-danger); }
div.fav-buttons button#remove-fav-button:hover  { background: var(--color-danger-alt); }
div.fav-buttons button#remove-fav-button:after  { content: "- Unfavorite"; font-size: 0.9rem; }

/* Download Button */
div#image-download-link a {                                     /* Recolor the download button to match the Favorite one */
    background: var(--color-warning);
    color: var(--color-white);
    padding: 3px 10px;
    border: 0;
    border-radius: 3px;
}
div#image-download-link a:hover { background: var(--color-warning-alt); }

/* Comments Style */
#comments { padding: 0; background: none; box-shadow: none; }   /* Cleaner, sleaker comment section */
#comments h2:first-of-type { display: none; }                   /* Get rid of the intrusive rule reminder */
div.comments-for-post div.list-of-comments article.comment {    /* Get rid of the box shadows. It's not the 90s anymore. */
    box-shadow: none;
}
#new_comment .text label { display: none; }                     /* No need to label the comment textbox */
#comment_body_for_ { width: 100%; box-shadow: none; }           /* Streamline the comment textbox */

@media screen and (max-width: 800px) {                          /* Improved comments on mobile, credit goes to Peegus */
    div.comments-for-post div.list-of-comments article.comment {
        flex-flow: row wrap;
    }
    div.comments-for-post div.list-of-comments article.comment div.author {
        flex-basis: 100%;
        display: flex;
        flex-shrink: inherit;
        padding: 0;
    }
    div.comments-for-post div.list-of-comments article.comment .author .post-thumbnail a img {
        max-height: 75px;
        width: auto;
    }
    div.comments-for-post div.list-of-comments article.comment .author .author-info {
        padding-left: 10px;
    }
    div.comments-for-post div.list-of-comments article.comment .author .author-info h1 {
        margin-top: 10px;
    }
}

/* Editing Form */
section#edit {                                                  /* Strip shadows and padding from the editing form */
    margin: unset;
    padding: 0.5rem;
    box-shadow: unset;
}
section#edit form.simple_form {
    margin: unset;
    padding: unset;
}
section#edit div.input:last-child {                             /* Make the "Save Changes" button scroll with the page */
    position: -webkit-sticky;
    position: sticky;
    bottom: 0;
    
    background: var(--color-foreground-muted);
    border-radius: 4px 4px 0 0;
    width: min-content;
    padding: 15px;
    margin: 0;
}
